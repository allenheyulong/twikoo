(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{375:function(t,a,s){"use strict";s.r(a);var e=s(42),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手"}},[t._v("#")]),t._v(" 快速上手")]),t._v(" "),s("p",[t._v("Twikoo 分为云函数和前端两部分，部署时请注意保存二者版本一致。")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"#%E4%BA%91%E5%87%BD%E6%95%B0%E9%83%A8%E7%BD%B2"}},[t._v("云函数部署")]),t._v("有 3 种方式，"),s("a",{attrs:{href:"#%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2"}},[t._v("一键部署")]),t._v("、"),s("a",{attrs:{href:"#%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2"}},[t._v("手动部署")]),t._v("和"),s("a",{attrs:{href:"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E9%83%A8%E7%BD%B2"}},[t._v("命令行部署")]),t._v("。")]),t._v(" "),s("li",[s("a",{attrs:{href:"#%E5%89%8D%E7%AB%AF%E9%83%A8%E7%BD%B2"}},[t._v("前端部署")]),t._v("有 2 种方式，如果您的网站主题支持 Twikoo，您只需在配置文件中指定 Twikoo 即可；如果您的网站主题不支持 Twikoo，您需要修改源码手动引入 Twikoo 的 js 文件并初始化之。")])]),t._v(" "),s("h2",{attrs:{id:"云函数部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#云函数部署"}},[t._v("#")]),t._v(" 云函数部署")]),t._v(" "),s("h3",{attrs:{id:"一键部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一键部署"}},[t._v("#")]),t._v(" 一键部署")]),t._v(" "),s("ol",[s("li",[t._v("点击以下按钮将 Twikoo 一键部署到云开发"),s("br"),t._v(" "),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/index?action=CreateAndDeployCloudBaseProject&appUrl=https%3A%2F%2Fgithub.com%2Fimaegoo%2Ftwikoo&branch=dev",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://main.qcloudimg.com/raw/67f5a389f1ac6f3b4d04c7256438e44f.svg",alt:"部署到云开发"}}),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-登录授权"),s("OutboundLink")],1),t._v("，启用“匿名登录”")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-安全配置"),s("OutboundLink")],1),t._v("，将网站域名添加到“WEB安全域名”")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("一键部署虽然方便，但是仅支持按量计费环境——也就是说，"),s("strong",[t._v("一键部署的环境，当免费资源用尽后，将会产生费用")]),t._v("。且按量计费环境无法切换为包年包月环境。免费额度数据库读操作数只有 500 次 / 天，"),s("strong",[t._v("无法支撑 Twikoo 的运行需求")]),t._v("。Twikoo 建议您"),s("a",{attrs:{href:"#%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2"}},[t._v("手动部署")]),t._v("以节约成本。")])]),t._v(" "),s("h3",{attrs:{id:"手动部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手动部署"}},[t._v("#")]),t._v(" 手动部署")]),t._v(" "),s("p",[t._v("如果您打算部署到一个现有的云开发环境，请直接从第 3 步开始。")]),t._v(" "),s("ol",[s("li",[t._v("进入"),s("a",{attrs:{href:"https://curl.qcloud.com/KnnJtUom",target:"_blank",rel:"noopener noreferrer"}},[t._v("云开发CloudBase"),s("OutboundLink")],1),t._v("活动页面，滚动到“新用户专享”部分，选择适合的套餐（一般 0 元套餐即可），点击“立即购买”，按提示创建好环境。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("ul",[s("li",[t._v("推荐创建上海环境。如选择广州环境，需要在 "),s("code",[t._v("twikoo.init()")]),t._v(" 时额外指定环境 "),s("code",[t._v('region: "ap-guangzhou"')])]),t._v(" "),s("li",[t._v("环境名称自由填写")]),t._v(" "),s("li",[t._v("推荐选择计费方式"),s("code",[t._v("包年包月")]),t._v("，套餐版本"),s("code",[t._v("基础班 1")]),t._v("，超出免费额度不会收费")]),t._v(" "),s("li",[t._v("如果提示选择“应用模板”，请选择“空模板”")])])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/",target:"_blank",rel:"noopener noreferrer"}},[t._v("云开发控制台"),s("OutboundLink")],1),s("br")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-登录授权"),s("OutboundLink")],1),t._v("，启用“匿名登录”")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-安全配置"),s("OutboundLink")],1),t._v("，将网站域名添加到“WEB安全域名”")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/scf/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-云函数"),s("OutboundLink")],1),t._v("，点击“新建云函数”")]),t._v(" "),s("li",[t._v("函数名称请填写："),s("code",[t._v("twikoo")]),t._v("，创建方式请选择："),s("code",[t._v("空白函数")]),t._v("，运行环境请选择："),s("code",[t._v("Nodejs 10.15")]),t._v("，函数内存请选择："),s("code",[t._v("128MB")]),t._v("，点击“下一步”")]),t._v(" "),s("li",[t._v("清空输入框中的示例代码，复制以下代码、粘贴到“函数代码”输入框中，点击“确定”")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("exports"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'twikoo-func'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[t._v('创建完成后，点击“twikoo"进入云函数详情页，进入“函数代码”标签，点击“文件 - 新建文件”，输入 '),s("code",[t._v("package.json")]),t._v("，回车")]),t._v(" "),s("li",[t._v("复制以下代码、粘贴到代码框中，点击“保存并安装依赖”")])]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"twikoo-func"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.2.1-beta"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"命令行部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行部署"}},[t._v("#")]),t._v(" 命令行部署")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("ul",[s("li",[s("strong",[t._v("推荐使用手动部署，命令行部署仅针对有 Node.js 经验的开发者。")])]),t._v(" "),s("li",[t._v("请确保您已经安装了 "),s("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("请将命令、代码中“您的环境id”替换为您自己的环境id")]),t._v(" "),s("li",[t._v("第 7 步会弹出浏览器要求授权，需在有图形界面的系统下进行")]),t._v(" "),s("li",[t._v("请勿在 Termux 下操作。虽然可以部署成功，但是使用时会报错 "),s("code",[t._v("[FUNCTIONS_EXECUTE_FAIL] Error: EACCES: permission denied, open '/var/user/index.js'")])])])]),t._v(" "),s("p",[t._v("如果您打算部署到一个现有的云开发环境，请直接从第 3 步开始。")]),t._v(" "),s("ol",[s("li",[t._v("进入"),s("a",{attrs:{href:"https://curl.qcloud.com/KnnJtUom",target:"_blank",rel:"noopener noreferrer"}},[t._v("云开发CloudBase"),s("OutboundLink")],1),t._v("活动页面，滚动到“新用户专享”部分，选择适合的套餐（一般 0 元套餐即可），点击“立即购买”，按提示创建好环境。")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/",target:"_blank",rel:"noopener noreferrer"}},[t._v("云开发控制台"),s("OutboundLink")],1),s("br")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-登录授权"),s("OutboundLink")],1),t._v("，启用“匿名登录”")]),t._v(" "),s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/safety",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-安全配置"),s("OutboundLink")],1),t._v("，将网站域名添加到“WEB安全域名”")]),t._v(" "),s("li",[t._v("克隆本仓库")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/imaegoo/twikoo.git "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或 git clone https://e.coding.net/imaegoo/twikoo/twikoo.git")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" twikoo\n")])])]),s("blockquote",[s("p",[t._v("如果您没有安装 Git，也可以从 "),s("a",{attrs:{href:"https://github.com/imaegoo/twikoo/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("Release"),s("OutboundLink")],1),t._v(" 页面下载最新的 Source code"),s("br"),t._v("\n如果您所在的地区访问 Github 速度慢，也可以尝试另一个仓库地址："),s("a",{attrs:{href:"https://imaegoo.coding.net/public/twikoo/twikoo/git",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://imaegoo.coding.net/public/twikoo/twikoo/git"),s("OutboundLink")],1)])]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[t._v("安装依赖项")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 已安装 yarn 可以跳过此步")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[t._v("授权云开发环境（此命令会弹出浏览器要求授权，需在有图形界面的系统下进行）")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" run login\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[t._v("自动部署")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" deploy -e 您的环境id\n")])])]),s("h2",{attrs:{id:"前端部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端部署"}},[t._v("#")]),t._v(" 前端部署")]),t._v(" "),s("h3",{attrs:{id:"在-hexo-butterfly-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-butterfly-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Butterfly 主题使用")]),t._v(" "),s("p",[t._v("Butterfly 目前支持 Twikoo，请查看 "),s("a",{attrs:{href:"https://butterfly.js.org/posts/ceeb73f/#%E8%A9%95%E8%AB%96",target:"_blank",rel:"noopener noreferrer"}},[t._v("Butterfly 安裝文檔(四) 主題配置-2"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"在-hexo-keep-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-keep-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Keep 主题使用")]),t._v(" "),s("p",[t._v("Keep v3.3.0 已支持 Twikoo，请查看 "),s("a",{attrs:{href:"https://github.com/XPoet/hexo-theme-keep/blob/master/_config.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-theme-keep/_config.yml"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("comment")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env_id")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Tencent cloud environment id")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("region")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("                                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# environment region. If select Guangzhou, fill in "ap-guangzhou".')]),t._v("\n")])])]),s("h3",{attrs:{id:"在-hexo-volantis-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-volantis-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Volantis 主题使用")]),t._v(" "),s("p",[t._v("Volantis 目前支持 Twikoo，请查看 "),s("a",{attrs:{href:"https://github.com/volantis-x/hexo-theme-volantis/blob/master/_config.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-theme-volantis/_config.yml"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("comments")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("js")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//cdn.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xxxxxxxxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 腾讯云环境id")]),t._v("\n")])])]),s("h3",{attrs:{id:"在-hexo-ayer-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-ayer-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Ayer 主题使用")]),t._v(" "),s("p",[t._v("Ayer 目前支持 Twikoo，请查看 "),s("a",{attrs:{href:"https://github.com/Shen-Yu/hexo-theme-ayer/blob/master/_config.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-theme-ayer/_config.yml"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xxxxxxxxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 腾讯云环境id")]),t._v("\n")])])]),s("h3",{attrs:{id:"在-hexo-next-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-next-主题使用"}},[t._v("#")]),t._v(" 在 Hexo NexT 主题使用")]),t._v(" "),s("p",[t._v("在 Hexo 项目根目录执行 "),s("code",[t._v("npm install hexo-next-twikoo")]),t._v("，然后在配置中添加")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("visitor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xxxxxxxxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 腾讯云环境id")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# region: ap-guangzhou # 环境地域，默认为 ap-shanghai")]),t._v("\n")])])]),s("h3",{attrs:{id:"在-hexo-matery-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-matery-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Matery 主题使用")]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xxxxxxxxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境 ID，搭建教程：https://twikoo.js.org/quick-start.html")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# region: ap-guangzhou # 环境地域，默认为 ap-shanghai")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# path: 'window.location.pathname' # 自定义文章路径")]),t._v("\n")])])]),s("h3",{attrs:{id:"在-hexo-icarus-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-icarus-主题使用"}},[t._v("#")]),t._v(" 在 Hexo Icarus 主题使用")]),t._v(" "),s("p",[t._v("请参考 "),s("a",{attrs:{href:"https://anzifan.com/post/icarus_to_candy_2/",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于腾讯云，给你的 Icarus 博客配上 Twikoo 评论系统"),s("OutboundLink")],1),t._v(" by 异次元de机智君💯")]),t._v(" "),s("h3",{attrs:{id:"在-hexo-mengd-萌典-主题使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在-hexo-mengd-萌典-主题使用"}},[t._v("#")]),t._v(" 在 Hexo MengD(萌典) 主题使用")]),t._v(" "),s("p",[t._v("MengD(萌典) 目前支持 Twikoo，请查看 "),s("a",{attrs:{href:"https://github.com/lete114/hexo-theme-MengD/blob/master/_config.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("hexo-theme-MengD/_config.yml"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-yml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# twikoo")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## https://twikoo.js.org/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("twikoo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("envId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" xxxxxxxxx "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 你的环境id")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("region")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("shanghai "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境地域，ap-shanghai / ap-guangzhou")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" window.location.pathname  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("option")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n")])])]),s("h3",{attrs:{id:"通过-cdn-引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过-cdn-引入"}},[t._v("#")]),t._v(" 通过 CDN 引入")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("如果您使用的博客主题不支持 Twikoo，并且您不知道如何引入 Twikoo，您可以"),s("a",{attrs:{href:"https://github.com/imaegoo/twikoo/issues/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 Github 提交适配请求"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tcomment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/twikoo@1.0.0/dist/twikoo.all.min.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\ntwikoo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  envId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'您的环境id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  el"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#tcomment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// path: 'window.location.pathname', // 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("建议使用 CDN 引入 Twikoo 的用户在链接地址上锁定版本，以免将来 Twikoo 升级时受到非兼容性更新的影响。")])]),t._v(" "),s("h3",{attrs:{id:"通过-npm-引入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#通过-npm-引入"}},[t._v("#")]),t._v(" 通过 NPM 引入")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("如果您使用的博客主题不支持 Twikoo，并且您不知道如何引入 Twikoo，您可以"),s("a",{attrs:{href:"https://github.com/imaegoo/twikoo/issues/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("在 Github 提交适配请求"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" twikoo "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或 yarn add twikoo")]),t._v("\n")])])]),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("tcomment"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" twikoo "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'twikoo'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或 const twikoo = require('twikoo')")]),t._v("\ntwikoo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  envId"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'您的环境id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  el"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#tcomment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// region: 'ap-guangzhou', // 环境地域，默认为 ap-shanghai，如果您的环境地域不是上海，需传此参数")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// path: 'window.location.pathname', // 用于区分不同文章的自定义 js 路径，如果您的文章路径不是 location.pathname，需传此参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"开启管理面板"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开启管理面板"}},[t._v("#")]),t._v(" 开启管理面板")]),t._v(" "),s("ol",[s("li",[t._v("进入"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/env/login",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-登录授权"),s("OutboundLink")],1),t._v("，点击“自定义登录”右边的“私钥下载”，下载私钥文件")]),t._v(" "),s("li",[t._v("用文本编辑器打开私钥文件，复制全部内容")]),t._v(" "),s("li",[t._v("点击评论窗口的“小齿轮”图标，粘贴私钥文件内容，并设置管理员密码")])]),t._v(" "),s("h2",{attrs:{id:"版本更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本更新"}},[t._v("#")]),t._v(" 版本更新")]),t._v(" "),s("p",[t._v("不同部署方式的更新方式也不同，请对号入座。更新部署成功后，请不要忘记同时更新前端的 Twikoo CDN 地址 "),s("code",[t._v("https://cdn.jsdelivr.net/npm/twikoo@x.x.x/dist/twikoo.all.min.js")]),t._v(" 中的 "),s("code",[t._v("x.x.x")]),t._v("，使之与云函数版本号相同，然后部署网站。")]),t._v(" "),s("h3",{attrs:{id:"针对一键部署的更新方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对一键部署的更新方式"}},[t._v("#")]),t._v(" 针对一键部署的更新方式")]),t._v(" "),s("p",[t._v("登录"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/apps/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-我的应用"),s("OutboundLink")],1),t._v("，输入")]),t._v(" "),s("ul",[s("li",[t._v("来源地址："),s("code",[t._v("https://github.com/imaegoo/twikoo/tree/dev")])]),t._v(" "),s("li",[t._v("部署分支："),s("code",[t._v("dev")])])]),t._v(" "),s("p",[t._v("应用目录无需填写，点击“确定”，部署完成。")]),t._v(" "),s("h3",{attrs:{id:"针对手动部署的更新方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对手动部署的更新方式"}},[t._v("#")]),t._v(" 针对手动部署的更新方式")]),t._v(" "),s("p",[t._v("登录"),s("a",{attrs:{href:"https://console.cloud.tencent.com/tcb/scf/index",target:"_blank",rel:"noopener noreferrer"}},[t._v("环境-云函数"),s("OutboundLink")],1),t._v("，点击 twikoo，点击函数代码，打开 "),s("code",[t._v("package.json")]),t._v(" 文件，将 "),s("code",[t._v('"twikoo-func": "x.x.x"')]),t._v(" 其中的版本号修改为最新版本号，点击“保存并安装依赖”即可。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),s("p",[t._v("如果您的云函数是 1.0.0 之前的版本，因为 1.0.0 版本修改了部署步骤，请先参考"),s("a",{attrs:{href:"#%E6%89%8B%E5%8A%A8%E9%83%A8%E7%BD%B2"}},[t._v("手动部署")]),t._v("，从第 5 步开始，重新创建云函数，再按照此步骤更新。")]),t._v(" "),s("p",[t._v("如果升级后出现无法读取评论列表，云函数报错，请在函数编辑页面，删除 "),s("code",[t._v("node_modules")]),t._v(" 目录（删除需要半分钟左右，请耐心等待删除完成），再点击保存并安装依赖。如果仍然不能解决，请删除并重新创建 Twikoo 云函数。")])]),t._v(" "),s("h3",{attrs:{id:"针对命令行部署的更新方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#针对命令行部署的更新方式"}},[t._v("#")]),t._v(" 针对命令行部署的更新方式")]),t._v(" "),s("p",[t._v("进入 Twikoo 源码目录，执行以下命令更新现有的云函数")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" deploy -e 您的环境id\n")])])]),s("h3",{attrs:{id:"自动更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#自动更新"}},[t._v("#")]),t._v(" 自动更新")]),t._v(" "),s("p",[t._v("考虑到可用性和安全性问题，Twikoo 没有实现自动更新，也没有计划实现自动更新。如果您希望实现自动更新，可以参考 MHuiG 基于 Github 工作流的 "),s("a",{attrs:{href:"https://github.com/MHuiG/twikoo-update",target:"_blank",rel:"noopener noreferrer"}},[t._v("twikoo-update"),s("OutboundLink")],1),t._v(" 的实现方式。")])])}),[],!1,null,null,null);a.default=n.exports}}]);